# ARO
Augmented Reality Objects

[![Stories in Ready](https://badge.waffle.io/InterruptedLobster/findAR.png?label=ready&title=Current%20Sprint)](https://waffle.io/InterruptedLobster/findAR)
[![Dependency Status](https://david-dm.org/kkragenbrink/jasmine.svg)](https://david-dm.org/InterruptedLobster/findAR)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](https://github.com/kkragenbrink/jasmine/blob/master/LICENSE.txt)


## Installation:
```
npm install
npm install -g rnpm
rnpm link
```
### Simulator:
```
react-native run-ios
```
### Build:
```
open ios/findAR.xcodeproj
âŒ˜R
```

## Directory Structure
```
findAR/                                # Root Directory
  app/                                 # React file structure
    actions/                           # Redux actions
    assets/                            # Graphics
    components/                        # Custom react components
      AR.js                            # Displays camera and 3D overlay
      FriendList.js                    # Shows app-using friends, accepts onPress prop
      FriendListItem.js                # Renders individual friend in list
      Map.js                           # Renders map view
      PinCallout.js                    # Renders pin popout
      PinEditButton.js                 # Renders edit button on clicking a pin on map
      PinList.js                       # Renders list of saved locations
      PinListItem.js                   # Renders individual location, handles click events
      ViewContainer.js                 # Renders AR, Map, or PinList depending on mode
    constants/                         # Redux action types
    containers/                        # Redux smart containers
      ...dropNewPin.js                 # Handles logic to drop new pin
      ...FBLogin.js                    # Handles facebook login
      ...viewContainer.js              # Maps redux store to props for ViewContainer.js
    lib/                               # Utility functions
      db/                              # Firebase helpers
      orientation/                     # Device orientation / compass direction helpers
      threejs/                         # THREE.js models and helpers
    reducers/                          # Redux reducers
  ios/                                 # Xcode/native components
  index.ios.js                         # Entry point for React Native app, handles routing
```

## React Component Hierarchy
```
  <Provider>                           # index.ios.js -- Redux
    <Router>                           # index.ios.js -- react-native-router-flux
      <Scene key="root">             
        <Scene initial key="login">
          <LogIn />
        </Scene>
        <Scene key="view">
          <ViewContainer>              # container_viewContainer.js
            <AR>                       # Conditionally rendered -- AR.js
              <Camera />               # react-native-camera
              <WebViewBridge />        # react-native-webview-bridge -- overlays threejs on transparent DOM
            </AR>
            <Map>                      # Conditionally rendered -- Map.js
              <MapView>                # react-native-maps
                <MapView.Marker>       # Many of these! Each represents a location or friend, generated by
                                       # renderMarkers() or renderFriends()
                  <PinCallout />       # PinCallout.js
                </MapView.Marker>
              </MapView>
              <PinEditButton />        # Conditionally rendered -- PinEditButton.js
              <Button />               # Centers on user's current location
            </Map>
            <PinList>                  # Conditionally rendered -- PinList.js
              <PinListItem>            # Lots of these! Handles onPress for each item, renders distance and
                                       # name of friend that shared. Uses react-redux-router-flux to switch
                                       # to 'friends' scene when the 'share' option is pressed.
              </PinListItem>
            </PinList>
            <ViewModeButton />         # Conditionally rendered
            <DropNewPinButton />       # container_dropNewPin.js
          </ViewContainer>
        </Scene>
          <FriendList>                 # FriendList.js -- takes onPress as prop
            <FriendListItem />         # FriendListItem.js  -- handles onPress, routes back to previous scene
          </FriendList>
        <Scene key="friends">
        </Scene>
      </Scene>
    </Router>
  </Provider>
```