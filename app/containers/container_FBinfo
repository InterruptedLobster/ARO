
var Info = React.createClass({
  propTypes: {
    user: React.PropTypes.object.isRequired,
  },

  // getInitialState: function(){
  //   return {
  //     info: null,
  //   };
  // },

  componentWillMount: function(){
    console.log('----this is props im INFO', this.props);
    const { user, action } = this.props;

    var _this = this;
    // var user = this.props.user;
    var api = `https://graph.facebook.com/v2.3/${user.userId}?fields=name,email&access_token=${user.token}`;

    fetch(api)
      .then((response) => response.json())
      .then((responseData) => {
        // action.getInfo(responseData)
        // _this.setState({
        //   info : {
        //     name : responseData.name,
        //     email: responseData.email,
        //   },
        // });
      })
      .done();
  },

  render: function(){
    // var info = this.state.info;
    const{ info } = this.props.user;
    return (
      <View style={styles.bottomBump}>
       <Text>{ info && this.props.user.userId }</Text>
        <Text>{ info && info.name }</Text>
        <Text>{ info && info.email }</Text>
      </View>
    );
  }
});

var styles = StyleSheet.create({
  loginContainer: {
    marginTop: 150,

    flex: 1,
    alignItems: 'center',
    justifyContent: 'center',
  },
  bottomBump: {
    marginBottom: 15,
  },
});

function mapStateToProps(state) {
  return {
    user: state.user,
    // photo: state.user.photo,
    // info: state.user.info
  }
}

function mapDispatchToProps(dispatch) {
  return {
    action: bindActionCreators(userActions, dispatch)
  }
}
export default smartInfo = connect(mapStateToProps, mapDispatchToProps)(Info);
